{% extends 'BasePage.html' %}

{% block content %}
<div class="centered-content neumorphism-text">
    <h2>Your booking has been confirmed!</h2>
    <h2>Thank you!</h2><br><br><br><br>
    <h3>Click here to see Bill details</h3>
    
    <!-- Button to Open the Modal -->
    <button type="button" class="btn btn-success" data-toggle="modal" data-target="#myModal">
        Bill details
    </button>

    <div class="pull-right">
        <a href="{% url 'HomePage' %}">
            <button type="button" class="btn btn-primary float-right">exit</button>
        </a>
    </div>

    <!-- The Modal -->
    <div class="modal" id="myModal">
        <div class="modal-dialog">
            <div class="modal-content neumorphism">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Bill Details</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>

                <!-- Modal Body -->
                <div class="modal-body">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item"><b>Ride Name:</b> {{ citybook.ride_name }}</li>
                        <li class="list-group-item"><b>Starting Point:</b> {{ citybook.source }}</li>
                        <li class="list-group-item"><b>Destination Point:</b> {{ citybook.dest }}</li>
                        <li class="list-group-item"><b>Number of Seats:</b> {{ citybook.nos }}</li>
                        <li class="list-group-item"><b>Price:</b> {{ citybook.price }}</li>
                        <li class="list-group-item"><b>Date:</b> {{ citybook.date }}</li>
                        <li class="list-group-item"><b>Time:</b> {{ citybook.time }}</li>
                    </ul>

                    <!-- Pre Payment Button -->
                    <div class="text-center mt-3">
                        <button type="button" class="btn btn-warning" data-toggle="modal" data-target="#paymentModal">
                            Pre Payment
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Pre Payment Modal -->
    <div class="modal" id="paymentModal">
        <div class="modal-dialog">
            <div class="modal-content neumorphism">
                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Pre Payment</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <!-- Modal Body -->
                <div class="modal-body">
                    <p>Proceed with your pre-payment to complete the booking.</p>
                    <a href="{% url 'payment_page' %}" class="btn btn-primary btn-block">Pay Now</a>
                </div>
                
        </div>
    </div>

    <div class="pull-right">
        <a href="{% url 'HomePage' %}">
            <button type="button" class="btn btn-primary float-right">OK</button>
        </a>
    </div>
</div>

<!-- Bootstrap and jQuery JavaScript (required for the modal to work) -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>

<style>
    /* Center the content */
    .centered-content {
        text-align: center;
        margin-top: 150px;
    }

    .neumorphism-text h2,
    .neumorphism-text h3 {
        color: #333;
    }

    /* Neumorphism Modal */
    .neumorphism {
        background: #ffffff;
        border-radius: 20px;
        box-shadow: 10px 10px 20px rgba(0, 0, 0, 0.1), -10px -10px 20px rgba(255, 255, 255, 0.7);
        padding: 10px 10px;
    }
    .modal-header {
        background-color: #ffffff;
        color: #333;
        border-bottom: none;
        text-align: center;
    }

    .modal-body {
        background-color: #f9f9f9;
        padding: 20px;
    }

    .list-group-item {
        font-size: 16px;
        background: transparent;
        border: none;
        color: #333;
    }

    .btn-success {
        background-color: #4CAF50;
        border: none;
        color: white;
        padding: 10px 20px;
        font-size: 16px;
        border-radius: 50px;
        cursor: pointer;
        box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.1), -3px -3px 8px rgba(255, 255, 255, 0.7);
        margin-top: 10px;
        margin-bottom: 180px;
    }

    .btn-warning {
        background-color: #ffcc00;
        border: none;
        color: white;
        padding: 10px 20px;
        font-size: 16px;
        border-radius: 50px;
        cursor: pointer;
        box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.1), -3px -3px 8px rgba(255, 255, 255, 0.7);
    }

    .btn-primary {
        background-color: #007bff;
        color: white;
        padding: 10px 20px;
        border-radius: 50px;
        cursor: pointer;
        box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.1), -3px -3px 8px rgba(255, 255, 255, 0.7);
      
    }

    .btn-block {
        width: 100%;
        border-radius: 20px;
        padding: 12px;
        font-size: 18px;
        box-shadow: none;
    }

    /* Additional spacing */
    .mt-3 {
        margin-top: 15px;
    }
</style>

{% endblock %}
